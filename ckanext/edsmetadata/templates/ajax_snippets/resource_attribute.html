<!--
Copyright (c) 2018 Keitaro AB

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

{% import 'macros/form.html' as form %}
{% set attribute = {} %}
{% set errors = {} %}
<div class="panel panel-success resource-attribute">
    <div class="panel-heading">
        <button type="button" class="pull-right btn-attribute-remove"><i class="fa fa-times"></i></button>
        <strong>{{ _( 'Attribute ' + n|string ) }}</strong>
    </div>
    <div class="panel-body">
        {{ form.input('name_of_attribute_' + n|string, id='name_of_attribute_' + n|string, label=_('Name of attribute'), placeholder=_('e.g. SysImbSurplus'), value=attribute.name_of_attribute, error=errors['name_of_attribute_' + n|string], classes=['control-full'], attrs={'required':'required'}, is_required=true) }}

        {{ form.input('name_of_field_' + n|string, id='name_of_field_' + n|string, label=_('Name of field'), placeholder=_('e.g. SysImbSurplus'), value=attribute.name_of_field, error=errors['name_of_field_' + n|string], classes=['control-full'], attrs={'required':'required'}, is_required=true) }}

        {{ form.markdown('attribute_description_' + n|string, id='attribute_description_' + n|string, label=_('Description'), placeholder=_('Some useful notes about the data'), attrs={'required':'required'}, value=attribute.attribute_description, error=errors['attribute_description_' + n|string], is_required=true) }}

        {{ form.markdown('comment_' + n|string, id='comment_' + n|string, label=_('Comment'), placeholder=_('Some useful notes about the data'), attrs={'required':'required'}, value=attribute.comment, error=errors['comment_' + n|string]) }}

        {{ form.input('example_' + n|string, id='example_' + n|string, label=_('Example'), placeholder=_('eg. 386'), value=attribute.example, error=errors['example_' + n|string], classes=['control-full'], attrs={'required':'required'}, is_required=true) }}

        {{ form.input('format_regex_' + n|string, id='format_regex_' + n|string, label=_('Format as a regular expression'), placeholder=_('eg. /d{4}'), value=attribute.format_regex, error=errors['format_regex_' + n|string], attrs={'required':'required'}, classes=['control-full']) }}

        {{ form.input('size_' + n|string, id='size_' + n|string, label=_('Size'), placeholder=_('eg. 4'), value=attribute.size, error=errors['size_' + n|string], attrs={'required':'required'}, classes=['control-full'], is_required=true, type='number') }}

        {{ form.input('type_' + n|string, id='type_' + n|string, label=_('Type'), placeholder=_('eg. INTEGER'), value=attribute.type, error=errors['type_' + n|string], classes=['control-full'], attrs={'required':'required'}, is_required=true) }}

        {{ form.input('unit_' + n|string, id='unit_' + n|string, label=_('Unit'), placeholder=_('eg. kWh'), value=attribute.unit, error=errors['unit_' + n|string], classes=['control-full'], attrs={'required':'required'}, is_required=true) }}

        {{ form.input('validation_rules_' + n|string, id='validation_rules_' + n|string, label=_('Validation rules'), placeholder=_('eg. >= 0, NOT NULL'), value=attribute.validation_rules, error=errors['validation_rules_' + n|string], classes=['control-full']) }}

        {{ form.input('property_constraint_' + n|string, id='property_constraint_' + n|string, label=_('Property constraint'), value=attribute.property_constraint, error=errors['property_constraint_' + n|string], classes=['control-full']) }}
    </div>
    <div class="panel-footer"><span class="control-required">*</span> {{_('Unit - conditional required field, e.g. measurements will always be required to have a Unit specified, whereas dates and texts doesnâ€™t.')}}</div>

</div>